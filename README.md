# [[COMPANY_NAME]] Web App

This repository contains a Next.js (App Router) website for a U.S. engineering services firm specializing in radar systems, AI integration and aerospace/space engineering. The site is built with TypeScript, Tailwind CSS, Framer Motion, Lucide icons and adheres to high accessibility and performance standards.

## Features

- **Modern Tech Stack** — Next.js 13 app router with TypeScript, Tailwind CSS and shadcn-like component patterns.
- **Dark Mode by Default** — Supports light/dark toggling via local storage and respects the user’s `prefers-color-scheme` setting.
- **Responsive Design** — Layout adapts gracefully from mobile to large screens using Tailwind’s utility classes.
- **Accessibility** — Semantic HTML, labelled form inputs, keyboard focus styles and motion reductions for users who prefer reduced motion.
- **Content-Driven** — Services and case studies are defined in `/content` as TypeScript objects for easy editing without touching React components.
- **SEO-Ready** — Unique metadata and Open Graph tags per page, plus autogenerated `robots.txt` and `sitemap.xml`.
- **Compliance Notices** — Dedicated pages for privacy, terms and export/compliance notices.

## Getting Started

1. **Install dependencies** (requires Node.js 18+ and `pnpm`):

   ```bash
   pnpm install
   ```

2. **Run the development server**:

   ```bash
   pnpm dev
   ```

   Open <http://localhost:3000> with your browser to see the result. Edits to files in `app/`, `components/` and `content/` will hot-reload the page.

3. **Build for production**:

   ```bash
   pnpm build
   pnpm start
   ```

## Customization

### Updating Company Information

Most company-specific data (names, mission, identifiers, contract vehicles, locations and partnerships) live in `content/company.ts`. Replace the `[[PLACEHOLDER]]` tokens with real values. The company name also appears in `components/Header.tsx`, `layout.tsx` and the legal pages — search for `[[COMPANY_NAME]]` to update it.

### Editing Services

The services displayed on the site are defined in `content/services.ts`. Each service exports an object containing an `id`, `name`, `slug`, `intro`, and arrays for `what`, `how` and `outcomes`, plus a relative image path. Add or remove services as needed and ensure you create a corresponding page in `app/services/<slug>/page.tsx`.

### Adding Case Studies

Case studies live in `content/caseStudies.ts`. Add more entries to the exported array or modify existing ones. The case studies page will automatically render all items.

### Configuring Forms

The contact form in `components/ContactForm.tsx` currently logs the submission to the console. To integrate it with an email service or API, replace the submit handler with your desired logic. Ensure you handle ITAR/EAR-restricted data appropriately and never transmit classified information through unsecured channels.

### Accessibility and Performance

The site aims to achieve Lighthouse scores ≥ 95 for performance and accessibility. To further improve scores:

- Serve appropriately sized images via Next’s `<Image>` component.
- Audit pages for colour contrast and semantic correctness.
- Lazy-load any heavy components or third-party scripts.

## Deployment

### Deploying to Cloudflare Pages

This project has been configured for deployment on **Cloudflare Pages**, which provides a
global edge network and runs your Next.js application in a serverless environment.

To prepare an existing Next.js project for Cloudflare, you must install the
`@cloudflare/next-on-pages` package. This CLI transforms your Next.js build
output so that it runs on Cloudflare Pages【425952267815898†L27-L34】. Install it as a
development dependency alongside the Wrangler CLI:

```bash
npm install -D @cloudflare/next-on-pages wrangler
```

Next, add a `wrangler.toml` file to the root of the project with the following
contents:

```toml
name = "defense-site"
pages_build_output_dir = ".vercel/output/static"
compatibility_date = "2025-08-10"
compatibility_flags = ["nodejs_compat"]
```

The `pages_build_output_dir` points to the directory generated by the
`@cloudflare/next-on-pages` build step. The `nodejs_compat` flag enables
Node.js API support in Cloudflare's runtime【425952267815898†L94-L104】.

#### Update `next.config.mjs`

In order to access Cloudflare bindings (KV, D1, etc.) while developing locally
with the standard Next.js dev server, import and run the `setupDevPlatform`
helper from `@cloudflare/next-on-pages/next-dev`. The Cloudflare docs specify
that you should call this helper when `process.env.NODE_ENV === "development"`
【425952267815898†L75-L83】. This repository already includes that change.

#### Update `package.json` scripts

Three new npm scripts have been added to the `package.json`:

- **`pages:build`** – Runs `npx @cloudflare/next-on-pages` to build your
  application and transform it for Cloudflare.
- **`preview`** – Runs the build and then serves the generated output locally
  using `wrangler pages dev`. This allows you to test your application in the
  Cloudflare runtime before deploying. The `--compatibility-flag=nodejs_compat`
  option ensures Node.js APIs work【425952267815898†L94-L104】.
- **`deploy`** – Builds and deploys the project to Cloudflare Pages using
  `wrangler pages deploy`. You must be logged in (`wrangler login`) and have
  your Pages project created.

#### Configure Cloudflare Pages

After pushing your repository to GitHub, log in to the Cloudflare dashboard and
create a new Pages project. When prompted for build settings, choose the
**Next.js** framework preset and set:

- **Build command**: `npx @cloudflare/next-on-pages@1`
- **Output directory**: `.vercel/output/static`
- **Environment variable**: Set `NODE_VERSION` to `16` or higher【425952267815898†L94-L104】.

Once the project is created, go to **Settings → Functions** and add the
`nodejs_compat` compatibility flag for both production and preview deployments
【425952267815898†L94-L104】. After saving, your Next.js app will deploy on every push
to the selected branch.

### Deploying to Vercel or other platforms

If you still wish to deploy to Vercel, Netlify or any other provider that
supports Next.js, you can do so as before. For Vercel, set the build command
to `pnpm build` and the output directory to `.next`. The included
`vercel.json` demonstrates how to configure custom HTTP headers.

## Open Issues / TODOs

- Replace all `[[PLACEHOLDER]]` tokens with accurate company information (CAGE, DUNS, NAICS, socio-economic status, facility clearance, emails, phone numbers, leadership names and bios).
- Source or generate appropriate imagery for the aerospace/space service (currently uses the same background as the hero).
- Integrate shadcn/ui components formally by running `pnpm dlx shadcn-ui@latest init` and adding any desired components such as modals or accordions.
- Implement server-side form handling with reCAPTCHA or other spam prevention for production use.
- Review the Content Security Policy (CSP) in `next.config.mjs` and adjust it according to any analytics or third-party integrations you choose to add.

## License

This project is provided as a starting point and does not include proprietary or classified information. Use and modify it at your discretion.
